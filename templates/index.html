<!DOCTYPE html>
<html>
<head>
    <title>PCB Trace Calculator</title>
</head>
<body>
    <h1>PCB Trace Width & Voltage Drop Calculator</h1>

    <form method="POST">
        Current (A): <input type="number" step="any" name="current" required><br>
        Temp Rise (°C): <input type="number" step="any" name="temp_rise" required><br>
        Length (m): <input type="number" step="any" name="length" required><br>

        Copper Weight:
        <select name="copper_weight">
            <option value="0.5">0.5 oz</option>
            <option value="1">1 oz</option>
            <option value="2">2 oz</option>
            <option value="3">3 oz</option>
        </select><br>

        <button type="submit">Calculate</button>
    </form>

    {% if result %}
<h2>Results</h2>

<table border="1" cellpadding="8">
    <tr>
        <th>Layer</th>
        <th>Width (mil)</th>
        <th>Width (mm)</th>
    </tr>
    <tr>
        <td>External</td>
        <td>{{ "%.2f"|format(result.external[0]) }}</td>
        <td>{{ "%.3f"|format(result.external[1]) }}</td>
    </tr>
    <tr>
        <td>Internal</td>
        <td>{{ "%.2f"|format(result.internal[0]) }}</td>
        <td>{{ "%.3f"|format(result.internal[1]) }}</td>
    </tr>
</table>

<br>

<p><strong>Resistance:</strong> {{ "%.4f"|format(result.resistance) }} Ω</p>
<p><strong>Voltage Drop:</strong> {{ "%.4f"|format(result.voltage_drop) }} V</p>

{% endif %}
</body>
</html>
